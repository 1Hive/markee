type Markee @entity {
  id: ID!
  address: Bytes!
  owner: Bytes!
  pricingStrategy: Bytes!
  message: String!
  name: String!
  totalFundsAdded: BigInt!
  createdAt: BigInt!
  updatedAt: BigInt!
  createdAtBlock: BigInt!
  updatedAtBlock: BigInt!
  strategy: TopDawgStrategy
}

type TopDawgStrategy @entity {
  id: ID!
  address: Bytes!
  instanceName: String!
  revNetTerminal: Bytes!
  revNetProjectId: BigInt!
  adminAddress: Bytes!
  minimumPrice: BigInt!
  maxMessageLength: BigInt!
  maxNameLength: BigInt!
  totalInstanceFunds: BigInt!
  markees: [Markee!]! @derivedFrom(field: "strategy")
  createdAt: BigInt!
  createdAtBlock: BigInt!
}

type FixedPriceStrategy @entity {
  id: ID!
  address: Bytes!
  markeeAddress: Bytes!
  price: BigInt!
  maxMessageLength: BigInt!
  maxNameLength: BigInt!
  revNetTerminal: Bytes!
  revNetProjectId: BigInt!
  owner: Bytes!
  currentMessage: String!
  currentName: String!
  totalRevenue: BigInt!
  messageChangeCount: BigInt!
  createdAt: BigInt!
  createdAtBlock: BigInt!
}

type MessageChange @entity {
  id: ID!
  markee: Markee!
  changedBy: Bytes!
  newMessage: String!
  newName: String
  timestamp: BigInt!
  blockNumber: BigInt!
  transactionHash: Bytes!
}

type FundsAdded @entity {
  id: ID!
  markee: Markee!
  addedBy: Bytes!
  amount: BigInt!
  newMarkeeTotal: BigInt!
  newInstanceTotal: BigInt!
  timestamp: BigInt!
  blockNumber: BigInt!
  transactionHash: Bytes!
}

type FixedPriceMessageChange @entity {
  id: ID!
  strategy: FixedPriceStrategy!
  changedBy: Bytes!
  newMessage: String!
  newName: String
  pricePaid: BigInt!
  timestamp: BigInt!
  blockNumber: BigInt!
  transactionHash: Bytes!
}
