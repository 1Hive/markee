type Markee @entity(immutable: false) {
  id: ID!
  address: Bytes!
  owner: Bytes!
  message: String!
  name: String!
  totalFundsAdded: BigInt!
  pricingStrategy: Bytes!
  chainId: BigInt!
  createdAt: BigInt!
  createdAtBlock: BigInt!
  updatedAt: BigInt!
  fundsAddedCount: BigInt!
  messageUpdateCount: BigInt!
  fundsAddedEvents: [FundsAdded!]! @derivedFrom(field: "markee")
  messageUpdates: [MessageUpdate!]! @derivedFrom(field: "markee")
  nameUpdates: [NameUpdate!]! @derivedFrom(field: "markee")
}

type FundsAdded @entity(immutable: true) {
  id: ID!
  markee: Markee!
  addedBy: Bytes!
  amount: BigInt!
  newTotal: BigInt!
  timestamp: BigInt!
  blockNumber: BigInt!
  transactionHash: Bytes!
}

type MessageUpdate @entity(immutable: true) {
  id: ID!
  markee: Markee!
  updatedBy: Bytes!
  oldMessage: String!
  newMessage: String!
  timestamp: BigInt!
  blockNumber: BigInt!
  transactionHash: Bytes!
}

type NameUpdate @entity(immutable: true) {
  id: ID!
  markee: Markee!
  updatedBy: Bytes!
  oldName: String!
  newName: String!
  timestamp: BigInt!
  blockNumber: BigInt!
  transactionHash: Bytes!
}

type InvestorStrategy @entity(immutable: false) {
  id: ID!
  address: Bytes!
  minimumPrice: BigInt!
  maxMessageLength: BigInt!
  maxNameLength: BigInt!
  totalMarkeesCreated: BigInt!
  totalFundsRaised: BigInt!
}

type GlobalStats @entity(immutable: false) {
  id: ID!
  totalMarkees: BigInt!
  totalFundsRaised: BigInt!
  totalTransactions: BigInt!
}
